### Полезная инфа
- Очень полезная и развёрнутая инфа от чела который это придумал: [[flamegraph.pdf]]
### Вопрос 1: Что такое Flamegraph и зачем его используют?
**Ответ:**  
Flamegraph — это визуализация профилей производительности, которая помогает анализировать, где приложение тратит больше всего времени. Flamegraph отображает данные о времени выполнения функций в виде графика, где ширина блоков представляет количество времени, затраченного на выполнение функции и её дочерних вызовов.

**Зачем используется:**
- Для нахождения узких мест в производительности,
- Для выявления функций, которые занимают больше всего времени,
- Для визуализации профиля выполнения программ.

---

### Вопрос 2: Как связаны Flamegraph и perf?
**Ответ:**  
`perf` — это инструмент для профилирования производительности в Linux, который может собирать данные о производительности программы. Flamegraph использует данные, собранные `perf`, чтобы создавать визуализацию профиля выполнения в виде графика.

**Связь:**
- `perf` собирает данные о стеке вызовов,
- Эти данные используются для построения Flamegraph.

---

### Вопрос 3: Опишите процесс создания Flamegraph с использованием perf.
**Ответ:**  
Процесс создания Flamegraph включает следующие шаги:
1. **Сбор данных:** Запустите `perf` для сбора данных о профилировании.
```bash
perf record -F 99 -a -g -- <command>
```

2. **Создание отчета:** Создайте отчет о профилировании.
   ``` bash
perf script > out.perf
```
3. **Построение Flamegraph:** Используйте скрипты Flamegraph для создания визуализации.
    ```bash
    stackcollapse-perf.pl out.perf | flamegraph.pl > flamegraph.svg
    ```
4. **Просмотр:** Откройте `flamegraph.svg` в браузере или инструменте просмотра изображений.
- - -
### Вопрос 4: Что такое "горячие точки" (hotspots) и как Flamegraph помогает их выявить?

**Ответ:**  
**Горячие точки** — это участки кода, где приложение проводит большую часть времени, часто это функции или методы, вызываемые очень часто или работающие долго.

**Как Flamegraph помогает:**

- Flamegraph визуально отображает эти горячие точки в виде широких блоков, что позволяет легко идентифицировать их.
- Помогает быстро увидеть, где программа тратит наибольшее количество времени, и на какие функции следует обратить внимание.

---

### Вопрос 5: В чём отличие между стеками вызовов, представленными на Flamegraph, и классическим профилированием?

**Ответ:**

- **Stacks on Flamegraph:** Показывают, как часто функции вызываются и как они взаимосвязаны. Flamegraph объединяет вызовы в стеке и позволяет визуализировать их в виде графика.
- **Классическое профилирование:** Обычно представляет данные в виде таблиц или графиков, которые показывают время выполнения функций, но не всегда показывает, как они связаны друг с другом.

**Основное отличие:** Flamegraph визуализирует все стеки вызовов в одном графике, что позволяет легко обнаружить частые или проблемные вызовы, в то время как классическое профилирование может предоставлять данные в более текстовом или табличном формате.

---

### Вопрос 6: Что показывают "широкие" и "узкие" блоки в Flamegraph?

**Ответ:**

- **Широкие блоки:** Отображают функции или участки кода, которые занимают много времени. Ширина блока пропорциональна времени выполнения.
- **Узкие блоки:** Отображают функции, которые занимают меньше времени. Узкие блоки часто представляют вспомогательные функции или функции с меньшими затратами времени.

**Интерпретация:**

- **Широкие блоки** могут указывать на узкие места в производительности, где следует проводить дополнительное исследование и оптимизацию.
- **Узкие блоки** могут показывать менее значимые вызовы или функции с оптимизированным временем выполнения.

---

### Вопрос 7: Как можно интерпретировать данные Flamegraph для поиска проблем в производительности?

**Ответ:**

- **Идентифицируйте широкие блоки:** Определите функции, которые занимают наибольшее время, и исследуйте их, чтобы понять, где происходят задержки.
- **Анализируйте глубокие стеки:** Посмотрите, как часто вызываются функции и какие из них занимают больше времени, чтобы выявить потенциальные проблемы в реализации.
- **Ищите узкие места:** Определите, какие функции вызываются наиболее часто, и посмотрите, могут ли они быть оптимизированы.

---

### Вопрос 8: Какие инструменты для визуализации профилей производительности, кроме Flamegraph, вы знаете?

**Ответ:**  
Кроме Flamegraph, существуют следующие инструменты для визуализации профилей производительности:

- **Perfetto** — современный инструмент для профилирования и визуализации данных.
- **KCachegrind** — графический инструмент для анализа профилей, используемый с `callgrind`.
- **gprof** — инструмент для профилирования в GNU, предоставляет текстовые отчеты.
- **VisualVM** — инструмент для анализа и мониторинга Java-приложений.
- - -
[[Собеседование|Вернуться к главному плану]]